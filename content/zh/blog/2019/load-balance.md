---
title:       "深入理解负载均衡技术：分类、算法和典型架构详解"
description: "本文深入探讨了负载均衡技术的分类、算法和典型架构，包括DNS负载均衡、硬件负载均衡（如F5、A10）、软件负载均衡（如Nginx、LVS）、以及常用的负载均衡算法（如轮询、加权轮询、源地址哈希等）。通过深入理解负载均衡技术，可以为系统架构设计和性能优化提供重要参考。"
date:        2019-08-23
author:      "Devean"
image:       ""
tags: ["系统设计"]
math: true
categories:  ["Tech" ]
thumbnail: "/img/blog/heigh-performance-load-balance.png"

keywords: ["负载均衡技术","负载均衡分类","负载均衡算法","典型负载均衡架构","DNS负载均衡","硬件负载均衡","软件负载均衡","轮询算法","加权轮询算法","负载均衡指标","性能优化","源地址哈希算法"]
---


[架构设计ProcessOn](https://www.processon.com/mindmap/5c918057e4b0afc744183dc5)

## 负载均衡分类

### DNS负载均衡

- 优点

	- 1.简单、成本低
	- 2.就近访问，提升访问速度

- 缺点

	- 1.更新不及时
	- 2.拓展性差
	- 3.分配策略简单

### 硬件负载均衡

- F5

	- 性能(200-800W/S)

- A10
- 优点

	- 功能强大
	- 性能强大
	- 稳定性高
	- 支持安全防护

- 缺点

	- 价格昂贵
	- 拓展能力差

### 软件负载均衡

- Nginx(7层负载均衡)

	- 性能（5W/S）

- LVS（四层负载均衡)

	- 性能（10-80W/S）

- 优点

	- 简单
	- 便宜
	- 灵活

- 缺点

	- 性能一般
	- 不具备安全防护
	- 功能不够强大

## 典型负载均衡架构

### 案例1

- dns地理级别负载均衡
- 硬件本地多集群级别负载均衡
- 软件集群内机器级负载均衡

## 算法分类

### 任务平分类

- 轮询

	- 无需关注服务器负载、性能等状态
	- 只关注服务是否宕机

- 加权轮询

	- 根据服务器权重进行任务分配
	- 无法根据服务器状态差异进行任务分配

### 负载均衡类

- 根据任务场景和业务场景的不同指标衡量

	- 四层LVS网络设备中的连接数
	- 七层Nginx中的HTTP请求数
	- CPU密集型系统按CPU负载
	- I/O密集型系统按I/O负载

- 难点

	- 指标的收集及统计

### 性能最优类

- 以服务器的角度来分配

	- 需采样收集每个服务器上任务的响应时间

- 难点

	- 采样周期确定
	- 采样关键业务

### hash类

- 源地址 Hash
- ID的Hash

